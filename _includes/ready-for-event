{% comment %}
   ready-for-event: Check whether argument event contains the
   frontmatter variables required to send connection instructions and
   carry out event

   input: event
   output: ready-for-event [boolean]

   Tested frontmatter entries
   * All events
     - vtc-url
     - vtc-session
   * hpcbp-webinar events
     - qa-public-url
     - survey-public-url
   * swr-panel events
     - *none*
{% endcomment %}

{% comment %} Requirements for all type of events {% endcomment %}
{% if include.event.ecp-abbreviation
   and include.event.vtc-url
   and include.event.vtc-session %}
   {% assign ready-for-event = true %}
{% else %}
   {% assign ready-for-event = false %}
{% endif %}

{% comment %} Requirements for hpcbp-webinars only {% endcomment %}
{% if  include.event.event-type == "hpcbp-webinar" %}
   {% if include.event.qa-public-url
      and include.event.survey-public-url
      and ready-for-event == true %}
        {% assign ready-for-event = true %}
   {% else %}
      {% assign ready-for-event = false %}
   {% endif %}
{% comment %} Requirements for swr-panel only {% endcomment %}
{% elsif  include.event.event-type == "swr-panel" %}
   {% if ready-for-event == true %}
        {% assign ready-for-event = true %}
   {% else %}
      {% assign ready-for-event = false %}
   {% endif %}
{% else %}
  ERROR: unknown event-type: {{ include.event.event-type }}
{% endif %}
